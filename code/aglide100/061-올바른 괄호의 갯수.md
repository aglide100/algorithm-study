# 프로그래머스, 올바른 괄호의 갯수

> 출처: https://school.programmers.co.kr/learn/courses/30/lessons/12929#

## 문제 설명

올바른 괄호란 (())나 ()와 같이 올바르게 모두 닫힌 괄호를 의미합니다. )(나 ())() 와 같은 괄호는 올바르지 않은 괄호가 됩니다. 괄호 쌍의 개수 n이 주어질 때, n개의 괄호 쌍으로 만들 수 있는 모든 가능한 괄호 문자열의 갯수를 반환하는 함수 solution을 완성해 주세요.

##### 제한사항

-   괄호 쌍의 개수 N : 1 ≤ n ≤ 14, N은 정수

---

##### 입출력 예

| n   | result |
| --- | ------ |
| 2   | 2      |
| 3   | 5      |

##### 입출력 예 설명

입출력 예 #1  
2개의 괄호쌍으로 \[ "(())", "()()" \]의 2가지를 만들 수 있습니다.  
입출력 예 #2  
3개의 괄호쌍으로 \[ "((()))", "(()())", "(())()", "()(())", "()()()" \]의 5가지를 만들 수 있습니다.

# 문제 접근

본 문제는 괄호를 만들 수 있는 쌍의 갯수를 주어준다면 그 쌍의 갯수로 만들 수 있는 괄호의 가짓수를 찾는 것이 목적이다.

이 문제를 보고 처음 생각했던 방식이 재귀였지만 n이 커지면 커질수록 반복하는 횟수가 굉장히 많아졌으며 괄호의 생성에 규칙이 있을 것이라 생각하였다.

고민하였지만 풀지는 못하였고 결국은 카탈린 수열로 푸는 것이라 인지하였다.

<br>

여기서 카탈린 수열은 1, 2, 5, 14, 42...인 수열인데 뒤크 단어를 만족할 경우 카탈린 수열을 적용할 수 있다.

여기서 뒤크 단어는 간단하게 얘기하자만 조합론에서 X와 Y로 이루어진 문자열에서 X가 Y보다 많거나 같은 것을 가르키는 것을 의미한다.

> ig) n = 6

> XXXYYY XYXXYY XYXYXY XXYYXY XXYXYY

이러한 뒤크 단어는 괄호에서도 같이 적용이 가능하다. 여는 괄호와 닫는 괄호가 항상 같다는 조건을 통해 같이 적용이 가능해진다.

여기서 n쌍일때, 경우의 수를 Cn이라고 한다면

```
C1 = C0C0
C2 = C0C1 + C1C0
C3 = C0C2 + C1C1 + C2C0
C4 = C0C3 + C1C2 + C2C1 + C3C0
...
Cn = C0Cn-1 + C1Cn-2 ... + Cn-1C0
```

로 표현이 가능하다.

여기서 착안하여 다이나믹으로 코드를 짠다면 아래와 같다.

카탈린 수열은 여러 조합론 문제에서도 사용될 수 있으며, 다른 예제와 활용을 살펴보는것이 좋을 것으로 생각된다.

아래는 대표적인 예시이다.

괄호 갯수 구하기, 산 그리기, 대각선 피해가기, 이진 트리등이 있다.

# 문제 풀이 코드

java

```java
class Solution {
    public int solution(int n) {
        int answer = 0;

        int[] memo = new int[n+2];

        // 0 = 1 // 비어있는 경우도 하나의 가짓수
        // 1 = 1
        // 2 = 2
        // 3 = c0c2 + c1c1 + c2c0
        // 4 = c0c3 + c1c2 + c2c1 + c3c0
        // n = C0Cn-1 + C1Cn-2 ... + Cn-1C0

        memo[0] = 1;
        memo[1] = 1;
        for(int i = 2; i<=n; i++){
            for(int j=1; j<=i; j++){
                memo[i] += memo[i-j] * memo[j-1];
            }
        }

        answer = memo[n];
        return answer;
    }
}
```
